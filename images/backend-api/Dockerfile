FROM node:15.12.0-alpine3.10

#
# The next 2 lines install the requirement for running grunt 
# see https://github.com/gruntjs/grunt-contrib-sass for more information
#
RUN npm install -g grunt-cli
RUN npm install -g sass

#
# The next 3 lines are used to optimize the docker build process:
# - as long as the package.json has not changed, we will be able
#   to reuse the layers generated by the 3 lines
#
ADD src/package.json /opt/backend-api/src/package.json
WORKDIR /opt/backend-api/src
RUN npm install

COPY src /opt/backend-api/src


CMD [ "grunt" ] 
